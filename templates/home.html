{% extends "base.html" %}

{% block title %}X4 Utils — E-Ink Toolkit{% endblock %}

{% block back_button %}{% endblock %}

{% block styles %}
<style>
    .home-wrap {
        width: 100%;
        max-width: 640px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    /* ---- Hero ---- */
    .hero {
        text-align: center;
        margin-bottom: 3rem;
        position: relative;
    }

    .hero-title {
        font-family: var(--font-heading);
        font-size: 5rem;
        letter-spacing: 4px;
        text-transform: uppercase;
        color: var(--secondary);
        -webkit-text-stroke: 2px #000;
        text-shadow: 5px 5px 0 #000, 6px 6px 0 var(--accent);
        transform: rotate(-3deg);
        display: inline-block;
        line-height: 1;
    }

    .hero-title span {
        display: inline-block;
    }

    .hero-sub {
        font-family: var(--font-heading);
        font-size: 1.15rem;
        color: var(--text);
        background: var(--accent);
        border: var(--border-width) solid var(--border-color);
        box-shadow: var(--shadow-offset) var(--shadow-offset) 0 #000;
        display: inline-block;
        padding: 0.3rem 1rem;
        transform: rotate(1.5deg);
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-top: 0.75rem;
    }

    /* ---- Cards Grid ---- */
    .cards {
        display: flex;
        flex-direction: column;
        gap: 1.25rem;
        width: 100%;
    }

    /* ---- Card ---- */
    .card {
        display: flex;
        align-items: stretch;
        background: var(--surface);
        border: var(--border-width) solid var(--border-color);
        border-radius: var(--radius);
        box-shadow: var(--shadow-offset) var(--shadow-offset) 0 #000;
        overflow: hidden;
        text-decoration: none;
        color: var(--text);
        transition: transform 0.15s, box-shadow 0.15s;
        position: relative;
        /* Animation applied via classes */
    }

    .card:hover {
        transform: translate(-3px, -3px);
        box-shadow: calc(var(--shadow-offset) + 3px) calc(var(--shadow-offset) + 3px) 0 #000;
    }

    .card:active {
        transform: translate(0, 0);
        box-shadow: 0 0 0 #000;
    }

    .card--disabled {
        pointer-events: none;
    }

    .card--disabled .card-body {
        opacity: 0.45;
    }

    /* Icon strip on left */
    .card-icon {
        width: 72px;
        min-height: 88px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        border-right: var(--border-width) solid var(--border-color);
        flex-shrink: 0;
        position: relative;
    }

    .card-icon svg {
        width: 32px;
        height: 32px;
    }

    .card:nth-child(1) .card-icon { background: var(--secondary); color: #000; }
    .card:nth-child(2) .card-icon { background: var(--accent); color: #fff; }
    .card:nth-child(3) .card-icon { background: #ffc107; color: #000; }

    /* Body */
    .card-body {
        flex: 1;
        padding: 1rem 1.25rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 0.2rem;
    }

    .card-title {
        font-family: var(--font-heading);
        font-size: 1.6rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: var(--text);
        text-shadow: 1px 1px 0 #000;
    }

    .card-desc {
        font-size: 0.9rem;
        color: var(--text-muted);
        line-height: 1.35;
    }

    /* Arrow / badge on right */
    .card-end {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 1.25rem;
        flex-shrink: 0;
    }

    .card-arrow {
        color: var(--secondary);
        transition: transform 0.15s;
    }

    .card:hover .card-arrow {
        transform: translateX(4px);
    }

    .card-arrow svg {
        width: 22px;
        height: 22px;
    }

    .badge-soon {
        font-family: var(--font-heading);
        font-size: 0.8rem;
        text-transform: uppercase;
        background: var(--surface-hover);
        border: 2px solid var(--border-color);
        border-radius: 4px;
        padding: 0.2rem 0.5rem;
        color: var(--text-muted);
        letter-spacing: 0.5px;
        white-space: nowrap;
    }

    /* ---- Halftone overlay for disabled cards ---- */
    .card--disabled::after {
        content: '';
        position: absolute;
        inset: 0;
        background-image: radial-gradient(#000 1px, transparent 1px);
        background-size: 4px 4px;
        opacity: 0.2;
        pointer-events: none;
    }

    /* ---- Mobile ---- */
    @media (max-width: 480px) {
        .hero-title {
            font-size: 3.5rem;
        }

        .card-icon {
            width: 56px;
            min-height: 72px;
        }

        .card-icon svg {
            width: 26px;
            height: 26px;
        }

        .card-title {
            font-size: 1.3rem;
        }

        .card-end {
            padding: 0 0.8rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="home-wrap">
    <div class="hero">
        <h1 class="hero-title"><span class="anim-pop-scale">X4 Utils</span></h1>
        <p class="hero-sub anim-fade-slide-up delay-300">E-Ink Device Toolkit</p>
    </div>

    <div class="cards">
        <!-- Manga Formatter — active -->
        <a href="/manga-formatter/" class="card anim-card-pop delay-100">
            <div class="card-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/>
                    <path d="M8 7h6"/>
                    <path d="M8 11h8"/>
                </svg>
            </div>
            <div class="card-body">
                <span class="card-title">Manga Formatter</span>
                <span class="card-desc">Convert CBZ manga to XTC format for e-ink</span>
            </div>
            <div class="card-end">
                <span class="card-arrow">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 6l6 6-6 6"/>
                    </svg>
                </span>
            </div>
        </a>

        <!-- Book Converter — Mystery Theme -->
        <a href="/book-converter/" class="card anim-card-pop delay-200" style="border-left: 5px solid #800000;">
            <div class="card-icon" style="background: #2b2b2b; color: #c5a059;">
                <!-- Sherlock Pipe Icon -->
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 11.5a3 3 0 0 1-3 3 3 3 0 0 1-3-3v-4a3 3 0 0 1 3-3h2.5" />
                    <path d="M12 7.5h2.5c2 0 3.5 1.5 3.5 3.5v1.5a4 4 0 0 1-4 4h-2" />
                    <path d="M14 16.5c1 1 1 2.5 1 2.5s-1 2-4 2-5-1-5-3.5 2-3.5 5-3.5" />
                </svg>
            </div>
            <div class="card-body">
                <span class="card-title" style="font-family: 'Georgia', serif; letter-spacing: 0;">Book Converter</span>
                <span class="card-desc">Transform your EPUB & PDF files into readable evidence</span>
            </div>
            <div class="card-end">
                <span class="card-arrow">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 6l6 6-6 6"/>
                    </svg>
                </span>
            </div>
        </a>

        <!-- Firmware Flasher — coming soon -->
        <div class="card card--disabled anim-card-pop delay-300">
            <div class="card-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                </svg>
            </div>
            <div class="card-body">
                <span class="card-title">Firmware Flasher</span>
                <span class="card-desc">Flash and manage X4 device firmware</span>
            </div>
            <div class="card-end">
                <span class="badge-soon">Soon</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
